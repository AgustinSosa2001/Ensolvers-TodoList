{"ast":null,"code":"import React from \"react\";\nimport axios from \"axios\";\nexport class ItemService {\n  constructor() {\n    this.baseUrl = \"http://localhost:8080\";\n    this.d = document;\n    this.$table = d.querySelector(\".responsive\");\n    this.$form = d.querySelector(\"new-task-form\");\n    this.$template = d.getElementById(\"task-template\").content;\n    this.$fragment = d.createDocumentFragment();\n  }\n\n  async getAll() {\n    try {\n      const response = await fetch(this.baseUrl + \"/tasks\");\n      const json = await response.json();\n      const d = document;\n      $table = d.querySelector(\".responsive\");\n      $form = d.querySelector(\"new-task-form\");\n      $template = d.getElementById(\"task-template\").content;\n      $fragment = d.createDocumentFragment();\n      if (!response.ok) throw {\n        status: response.status,\n        statusText: response.statusText\n      };\n      json.forEach(el => {\n        this.$template.d.querySelector(\".text\").textContent = el.task;\n        let $clone = d.importNode($template, true);\n        this.$fragment.appendChild($clone);\n      });\n      this.$table.querySelector(\".responsive\").appendChild($fragment);\n    } catch (err) {\n      let message = err.statusText || \"Error\";\n      this.$table.inserAdjacentHtml(\"afterend\", `<p><b>Error${err.status}: ${message}</b></p>`);\n    }\n  }\n\n}","map":{"version":3,"sources":["F:/usuarios/alumno/Escritorio/PROGRAMAS/SPA/todolist/src/services/TaskService.js"],"names":["React","axios","ItemService","baseUrl","d","document","$table","querySelector","$form","$template","getElementById","content","$fragment","createDocumentFragment","getAll","response","fetch","json","ok","status","statusText","forEach","el","textContent","task","$clone","importNode","appendChild","err","message","inserAdjacentHtml"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,WAAN,CAAkB;AAAA;AAAA,SACvBC,OADuB,GACb,uBADa;AAAA,SAGvBC,CAHuB,GAGnBC,QAHmB;AAAA,SAIvBC,MAJuB,GAIdF,CAAC,CAACG,aAAF,CAAgB,aAAhB,CAJc;AAAA,SAKvBC,KALuB,GAKfJ,CAAC,CAACG,aAAF,CAAgB,eAAhB,CALe;AAAA,SAMvBE,SANuB,GAMXL,CAAC,CAACM,cAAF,CAAiB,eAAjB,EAAkCC,OANvB;AAAA,SAOvBC,SAPuB,GAOXR,CAAC,CAACS,sBAAF,EAPW;AAAA;;AASX,QAANC,MAAM,GAAG;AACb,QAAI;AACF,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,KAAKb,OAAL,GAAe,QAAhB,CAA5B;AACA,YAAMc,IAAI,GAAG,MAAMF,QAAQ,CAACE,IAAT,EAAnB;AAEA,YAAMb,CAAC,GAAGC,QAAV;AACAC,MAAAA,MAAM,GAAGF,CAAC,CAACG,aAAF,CAAgB,aAAhB,CAAT;AACAC,MAAAA,KAAK,GAAGJ,CAAC,CAACG,aAAF,CAAgB,eAAhB,CAAR;AACAE,MAAAA,SAAS,GAAGL,CAAC,CAACM,cAAF,CAAiB,eAAjB,EAAkCC,OAA9C;AACAC,MAAAA,SAAS,GAAGR,CAAC,CAACS,sBAAF,EAAZ;AAEA,UAAI,CAACE,QAAQ,CAACG,EAAd,EACE,MAAM;AAAEC,QAAAA,MAAM,EAAEJ,QAAQ,CAACI,MAAnB;AAA2BC,QAAAA,UAAU,EAAEL,QAAQ,CAACK;AAAhD,OAAN;AAEFH,MAAAA,IAAI,CAACI,OAAL,CAAcC,EAAD,IAAQ;AACnB,aAAKb,SAAL,CAAeL,CAAf,CAAiBG,aAAjB,CAA+B,OAA/B,EAAwCgB,WAAxC,GAAsDD,EAAE,CAACE,IAAzD;AAEA,YAAIC,MAAM,GAAGrB,CAAC,CAACsB,UAAF,CAAajB,SAAb,EAAwB,IAAxB,CAAb;AACA,aAAKG,SAAL,CAAee,WAAf,CAA2BF,MAA3B;AACD,OALD;AAMA,WAAKnB,MAAL,CAAYC,aAAZ,CAA0B,aAA1B,EAAyCoB,WAAzC,CAAqDf,SAArD;AACD,KApBD,CAoBE,OAAOgB,GAAP,EAAY;AACZ,UAAIC,OAAO,GAAGD,GAAG,CAACR,UAAJ,IAAkB,OAAhC;AACA,WAAKd,MAAL,CAAYwB,iBAAZ,CACE,UADF,EAEG,cAAaF,GAAG,CAACT,MAAO,KAAIU,OAAQ,UAFvC;AAID;AACF;;AArCsB","sourcesContent":["import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport class ItemService {\r\n  baseUrl = \"http://localhost:8080\";\r\n\r\n  d = document;\r\n  $table = d.querySelector(\".responsive\");\r\n  $form = d.querySelector(\"new-task-form\");\r\n  $template = d.getElementById(\"task-template\").content;\r\n  $fragment = d.createDocumentFragment();\r\n\r\n  async getAll() {\r\n    try {\r\n      const response = await fetch(this.baseUrl + \"/tasks\");\r\n      const json = await response.json();\r\n\r\n      const d = document;\r\n      $table = d.querySelector(\".responsive\");\r\n      $form = d.querySelector(\"new-task-form\");\r\n      $template = d.getElementById(\"task-template\").content;\r\n      $fragment = d.createDocumentFragment();\r\n\r\n      if (!response.ok)\r\n        throw { status: response.status, statusText: response.statusText };\r\n\r\n      json.forEach((el) => {\r\n        this.$template.d.querySelector(\".text\").textContent = el.task;\r\n\r\n        let $clone = d.importNode($template, true);\r\n        this.$fragment.appendChild($clone);\r\n      });\r\n      this.$table.querySelector(\".responsive\").appendChild($fragment);\r\n    } catch (err) {\r\n      let message = err.statusText || \"Error\";\r\n      this.$table.inserAdjacentHtml(\r\n        \"afterend\",\r\n        `<p><b>Error${err.status}: ${message}</b></p>`\r\n      );\r\n    }\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}